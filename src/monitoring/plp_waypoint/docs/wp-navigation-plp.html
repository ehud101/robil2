<h1 id="wpnavigationplp">WP Navigation PLP</h1>

<ul>
<li>v1 2015&#8211;01&#8211;12</li>
<li>v2 2015&#8211;01&#8211;28</li>
</ul>

<h2 id="about">About</h2>

<p>This PLP calculates the success probability of navigating to the next waypoint in a path.</p>

<h2 id="values">Values</h2>

<h3 id="parameters">Parameters</h3>

<ul>
<li><code>map</code> &larr; <code>/PER/MiniMap</code> occupancy grid of the area. Message is <code>Map.msg</code>.</li>
<li><code>mapError</code> &larr; <code>TBD</code> Current assume map error=0. Error will become interesting when we use visual data.</li>
<li><code>path</code> &larr; <code>/PP/Path</code> planned path</li>
<li><code>position</code> &larr; <code>/Loc/Pose</code> global position. Message type is <code>PoseWithCovarianceStamped</code>.</li>
<li><code>positionError</code> &larr; <code>/Loc/Pose</code></li>
</ul>

<h3 id="variables">Variables</h3>

<ul>
<li><code>distanceToWaypoint</code> local path length to WP</li>
<li><code>mapOccupancy</code> percentage of occupied cells in MiniMap</li>
<li><code>heightVariablity</code> height variability in <code>map</code></li>
</ul>

<h3 id="constants">Constants</h3>

<ul>
<li><code>MIN_LOC_ERROR</code> Minimal error under which it is unsafe to drive</li>
<li><code>BOBCAT_SIZE</code> Size of the bobcat</li>
<li><code>MIN_BLADE_CLEARANCE</code> Minimal blade clearance for driving</li>
</ul>

<h2 id="robilintegration">Robil Integration</h2>

<h3 id="trigger">Trigger</h3>

<ul>
<li>Nav task active</li>
<li>received local path</li>
</ul>

<h3 id="output">Output</h3>

<ul>
<li><code>LocSuc</code> &rarr; <code>/Some/queue/for/PLPs</code> Local Navigation Success Probability</li>
<li><code>LocTime</code> &rarr; <code>/Some/queue/for/PLPs</code> Local Navigation Time Estimation</li>
<li><code>Confidence</code> &rarr; <code>/Some/queue/for/PLPs</code> Confidence level for the estimations given.</li>
</ul>

<h2 id="naturalpreconditions">? Natural Preconditions ?</h2>

<p><em>Replace with natural PLP for the entire system?</em></p>

<ul>
<li><code>bladeDof[0] in ([x,y]...) and bladeDof[1] in ([x,y]....) and bladeDof[2] in ([x,y]...)</code>

<ul>
<li>Ensuring that the IBEO can see the road</li>
</ul></li>
</ul>

<h2 id="applicationcontext">Application Context</h2>

<h3 id="resources">Resources</h3>

<ul>
<li>Rover (exclusive)</li>
</ul>

<h3 id="preconditions">Preconditions</h3>

<ul>
<li><code>distanceToWaypoint &gt; 1m</code></li>
<li><code>clearance(t)+positionError &lt; MIN_LOC_ERROR</code></li>
</ul>

<h3 id="concurrencyconditions">Concurrency Conditions</h3>

<ul>
<li><code>Bobcat_OK</code></li>
<li><code>IBEO_OK</code></li>
<li><code>INS_OK</code></li>
<li><code>positionError &lt; MIN_LOC_ERROR</code></li>
<li><code>Map_OK</code></li>
<li><code>bladeClearance &gt; MIN_BLADE_CLEARANCE</code></li>
</ul>

<h3 id="concurrentmodules">Concurrent Modules</h3>

<ul>
<li>blade minimum height preserver</li>
</ul>

<h2 id="sideeffects">Side Effects</h2>

<ul>
<li>Fuel: <code>fuelConsumptionRate * distanceToWaypoint * (heightVariablity * hvFactor)</code></li>
</ul>

<h2 id="goal">Goal</h2>

<ul>
<li><code>distanceToWaypoint &lt; 1m</code></li>
</ul>

<h2 id="probabilities">Probabilities</h2>

<ul>
<li>Success: <code>P_s(explicit subset of the PLP parameters)</code></li>
<li>Failure:

<ul>
<li><code>Bobcat_stuck</code>: <code>P_f(explicit subset of the PLP parameters)</code></li>
<li><code>Bobcat_turned_over</code>: <code>P_f(explicit subset of the PLP parameters)</code></li>
</ul></li>
</ul>

<h2 id="runningtime">Running Time</h2>

<ul>
<li>Given Success: <code>rt_s(explicit subset of the PLP parameters)</code></li>
<li>Given Failure: <code>rt_f(explicit subset of the PLP parameters)</code></li>
</ul>
